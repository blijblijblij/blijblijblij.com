<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.62.2 with theme Tranquilpeak 0.4.7-BETA"><meta name=author content="Rogier Wessel"><meta name=keywords content><meta name=description content="Data-transform your slack channels In my humble opinion Slack is a fantastic tool for keeping development teams aligned and informed. It has (irc supported) chat, voice calls, proper code snippet sharing but it really shines in its ability to integrate all that is important to a team.
For example we integrate:
 updates on github, Pull requests, comments, &mldr; updates on tickets, new, open, closed tickets updates from ci, builds, tests, the occasional #FAIL updates from deploys instantiated from ci onto the mesos cluster updates on failing services and network components from nagios bash scripts synchronising in the background or via cron  One thing was missing Updates from pesky long running etl-jobs, while being away from the vpn-ed carte status page."><meta property="og:description" content="Data-transform your slack channels In my humble opinion Slack is a fantastic tool for keeping development teams aligned and informed. It has (irc supported) chat, voice calls, proper code snippet sharing but it really shines in its ability to integrate all that is important to a team.
For example we integrate:
 updates on github, Pull requests, comments, &mldr; updates on tickets, new, open, closed tickets updates from ci, builds, tests, the occasional #FAIL updates from deploys instantiated from ci onto the mesos cluster updates on failing services and network components from nagios bash scripts synchronising in the background or via cron  One thing was missing Updates from pesky long running etl-jobs, while being away from the vpn-ed carte status page."><meta property="og:type" content="article"><meta property="og:title" content="Slack update from pdi"><meta name=twitter:title content="Slack update from pdi"><meta property="og:url" content="https://blijblijblij.com/2016/11/slack-update-from-pdi/"><meta property="twitter:url" content="https://blijblijblij.com/2016/11/slack-update-from-pdi/"><meta property="og:site_name" content="blijblijblij.com"><meta property="og:description" content="Data-transform your slack channels In my humble opinion Slack is a fantastic tool for keeping development teams aligned and informed. It has (irc supported) chat, voice calls, proper code snippet sharing but it really shines in its ability to integrate all that is important to a team.
For example we integrate:
 updates on github, Pull requests, comments, &mldr; updates on tickets, new, open, closed tickets updates from ci, builds, tests, the occasional #FAIL updates from deploys instantiated from ci onto the mesos cluster updates on failing services and network components from nagios bash scripts synchronising in the background or via cron  One thing was missing Updates from pesky long running etl-jobs, while being away from the vpn-ed carte status page."><meta name=twitter:description content="Data-transform your slack channels In my humble opinion Slack is a fantastic tool for keeping development teams aligned and informed. It has (irc supported) chat, voice calls, proper code snippet sharing but it really shines in its ability to integrate all that is important to a team.
For example we integrate:
 updates on github, Pull requests, comments, &mldr; updates on tickets, new, open, closed tickets updates from ci, builds, tests, the occasional #FAIL updates from deploys instantiated from ci onto the mesos cluster updates on failing services and network components from nagios bash scripts synchronising in the background or via cron  One thing was missing Updates from pesky long running etl-jobs, while being away from the vpn-ed carte status page."><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2016-11-19T10:00:04"><meta property="article:modified_time" content="2016-11-19T10:00:04"><meta property="article:tag" content="pentaho"><meta property="article:tag" content="pdi"><meta property="article:tag" content="slack"><meta name=twitter:card content="summary"><meta name=twitter:site content="@blijblijblij"><meta name=twitter:creator content="@blijblijblij"><meta property="og:image" content="https://www.gravatar.com/avatar/626342d86e1bee29d2d312efd9d2b762?s=640"><meta property="twitter:image" content="https://www.gravatar.com/avatar/626342d86e1bee29d2d312efd9d2b762?s=640"><title>Slack update from pdi</title><link rel=icon href=https://blijblijblij.com/favicon.png><link rel=canonical href=https://blijblijblij.com/2016/11/slack-update-from-pdi/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin=anonymous><link rel=stylesheet href=https://blijblijblij.com/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css></head><body><div id=blog><header id=header data-behavior=4><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://blijblijblij.com/>blijblijblij.com</a></div><a class=header-right-picture href=https://blijblijblij.com/#about><img class=header-picture src="https://www.gravatar.com/avatar/626342d86e1bee29d2d312efd9d2b762?s=90" alt="Author's picture"></a></header><nav id=sidebar data-behavior=4><div class=sidebar-container><div class=sidebar-profile><a href=https://blijblijblij.com/#about><img class=sidebar-profile-picture src="https://www.gravatar.com/avatar/626342d86e1bee29d2d312efd9d2b762?s=110" alt="Author's picture"></a><h4 class=sidebar-profile-name>Rogier Wessel</h4><h5 class=sidebar-profile-bio>Happy nerd, ever searching & learning new things &mldr;</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/><i class="sidebar-button-icon fa fa-lg fa-home"></i><span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/categories><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i><span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/tags><i class="sidebar-button-icon fa fa-lg fa-tags"></i><span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/archives><i class="sidebar-button-icon fa fa-lg fa-archive"></i><span class=sidebar-button-desc>Archives</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/#about><i class="sidebar-button-icon fa fa-lg fa-question"></i><span class=sidebar-button-desc>About</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/blijblijblij target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-github"></i><span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.instagram.com/blijblijblij/ target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-instagram"></i><span class=sidebar-button-desc>Instagram</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.twitter.com/blijblijblij/ target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-twitter"></i><span class=sidebar-button-desc>Twitter</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://blijblijblij.com/index.xml><i class="sidebar-button-icon fa fa-lg fa-rss"></i><span class=sidebar-button-desc>RSS</span></a></li></ul></div></nav><div id=main data-behavior=4 class=hasCoverMetaIn><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class="post-header main-content-wrap text-left"><h1 class=post-title itemprop=headline>Slack update from pdi</h1><div class="postShorten-meta post-meta"><time itemprop=datePublished datetime=2016-11-19T10:00:04+01:00>November 19, 2016</time></div></div><div class="post-content markdown" itemprop=articleBody><div class=main-content-wrap><h1 id=data-transform-your-slack-channels>Data-transform your slack channels</h1><p>In my humble opinion <a href=https://slack.com/>Slack</a> is a fantastic tool for keeping development teams aligned and informed. It has (irc supported) chat, <a href=https://get.slack.help/hc/en-us/articles/216771908-Start-a-voice-call-in-Slack>voice calls</a>, proper code snippet sharing but it really shines in its ability to <a href=https://api.slack.com/custom-integrations>integrate all that is important to a team</a>.</p><p>For example we integrate:</p><ul><li>updates on github, Pull requests, comments, &mldr;</li><li>updates on tickets, new, open, closed tickets</li><li>updates from ci, builds, tests, the occasional <code>#FAIL</code></li><li>updates from deploys instantiated from ci onto the mesos cluster</li><li>updates on failing services and network components from nagios</li><li>bash scripts synchronising in the background or via cron</li></ul><h2 id=one-thing-was-missing>One thing was missing</h2><p>Updates from pesky long running etl-jobs, while being away from the vpn-ed carte status page. And a convenient way of updating fellow <code>are-we-there-yet-are-we-there-yet-are-we-there-yet-are-we-there-yet-</code> colleagues ;-).</p><h2 id=enter-the-slack-incoming-webhook>Enter the slack incoming webhook</h2><p>Slacks <a href=https://api.slack.com/incoming-webhooks>incoming-webhook</a> is simple, easy to understand and can be extended to support a lot of feedback:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -X POST <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>--data-urlencode <span style=color:#e6db74>&#39;payload={&#34;text&#34;:&#34;This is a line of text.\nAnd this is another one.&#34;}&#39;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
</code></pre></div><p>Pdi can do this nicely, and posting it to a slack endpoint seems a no brainer. So for something to be usefull it has to:</p><ul><li>update on starting a job</li><li>update on sub jobs / transformations</li><li>escalate on <code>#FAIL</code>-ed data transformations</li></ul><h2 id=do-it>Do it</h2><p>A reporting transformation that delivers the very same json, but with some additions:</p><p><img src=https://blijblijblij.com/images/2016-11-19_tr_report.png alt="report to slack" title="report to slack"></p><p>Script the json with javascript:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>payload</span><span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;{&#39;</span> <span style=color:#f92672>+</span>
	<span style=color:#e6db74>&#39;&#34;channel&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>channel</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
    <span style=color:#e6db74>&#39;&#34;username&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>username</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
	<span style=color:#e6db74>&#39;&#34;text&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>env</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
    <span style=color:#e6db74>&#39;&#34;attachments&#34;: [&#39;</span> <span style=color:#f92672>+</span>
        <span style=color:#e6db74>&#39;{&#39;</span> <span style=color:#f92672>+</span>
            <span style=color:#e6db74>&#39;&#34;title&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>title</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
            <span style=color:#e6db74>&#39;&#34;text&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>text</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
			<span style=color:#e6db74>&#39;&#34;fallback&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>text</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;,&#39;</span> <span style=color:#f92672>+</span>
            <span style=color:#e6db74>&#39;&#34;color&#34;: &#34;&#39;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>color</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;&#34;&#39;</span> <span style=color:#f92672>+</span>
        <span style=color:#e6db74>&#39;}&#39;</span> <span style=color:#f92672>+</span>
    <span style=color:#e6db74>&#39;]&#39;</span> <span style=color:#f92672>+</span>
<span style=color:#e6db74>&#39;};&#39;</span>;
</code></pre></div><p>Incorperate the slack reporting into a bigger picture:</p><p><img src=https://blijblijblij.com/images/2016-11-19_jb_main.png alt="main job" title="main job"></p><p>Et voila, some slack updates:</p><p><img src=https://blijblijblij.com/images/2016-11-19_slack_updated.png alt="on slack" title="on slack"></p><h2 id=thin-foil-hat>Thin foil hat</h2><p>This thing is updating from internal sources onto semi-public services, save to say to not stick any comprising data in those shiny new status updates&mldr;</p><h2 id=source-kjb--ktr>Source kjb / ktr</h2><p><a href=https://github.com/blijblijblij/pdi-slack-reporting/archive/version-Release-1.zip>link</a></p></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=https://blijblijblij.com/tags/pentaho/>pentaho</a>
<a class="tag tag--primary tag--small" href=https://blijblijblij.com/tags/pdi/>pdi</a>
<a class="tag tag--primary tag--small" href=https://blijblijblij.com/tags/slack/>slack</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blijblijblij.com/2016/12/easy-proxy-for-biserver/ data-tooltip="Setup an easy reverse proxy to the biserver"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blijblijblij.com/2016/05/pentaho-and-mesos/ data-tooltip="Running pentaho on mesos - part 1"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://blijblijblij.com/2016/11/slack-update-from-pdi/"><i class="fa fa-twitter"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread><i class="fa fa-comment-o"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#><i class="fa fa-list"></i></a></li></ul></div><div id=disqus_thread><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2020 <a href=https://github.com/blijblijblij>blijblijblij</a>. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=4><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blijblijblij.com/2016/12/easy-proxy-for-biserver/ data-tooltip="Setup an easy reverse proxy to the biserver"><i class="fa fa-angle-left"></i><span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://blijblijblij.com/2016/05/pentaho-and-mesos/ data-tooltip="Running pentaho on mesos - part 1"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://blijblijblij.com/2016/11/slack-update-from-pdi/"><i class="fa fa-twitter"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread><i class="fa fa-comment-o"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#><i class="fa fa-list"></i></a></li></ul></div></div><div id=share-options-bar class=share-options-bar data-behavior=4><i id=btn-close-shareoptions class="fa fa-close"></i><ul class=share-options><li class=share-option><a class=share-option-btn target=new href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fblijblijblij.com%2F2016%2F11%2Fslack-update-from-pdi%2F"><i class="fa fa-twitter"></i><span>Share on Twitter</span></a></li></ul></div><div id=share-options-mask class=share-options-mask></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-remove"></i></div><img id=about-card-picture src="https://www.gravatar.com/avatar/626342d86e1bee29d2d312efd9d2b762?s=110" alt="Author's picture"><h4 id=about-card-name>Rogier Wessel</h4><div id=about-card-bio>Happy nerd, ever searching & learning new things &mldr;</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Software plumber / engineer</div><div id=about-card-location><i class="fa fa-map-marker"></i><br>The Netherlands, Zutphen</div></div></div><div id=cover style=background-image:url(https://blijblijblij.com/images/cover.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin=anonymous></script><script src=https://blijblijblij.com/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js></script><script lang=javascript>window.onload=updateMinWidth;window.onresize=updateMinWidth;document.getElementById("sidebar").addEventListener("transitionend",updateMinWidth);function updateMinWidth(){var sidebar=document.getElementById("sidebar");var main=document.getElementById("main");main.style.minWidth="";var w1=getComputedStyle(main).getPropertyValue("min-width");var w2=getComputedStyle(sidebar).getPropertyValue("width");var w3=getComputedStyle(sidebar).getPropertyValue("left");main.style.minWidth=`calc(${w1} - ${w2} - ${w3})`;}</script><script>$(document).ready(function(){hljs.configure({classPrefix:'',useBR:false});$('pre.code-highlight > code, pre > code').each(function(i,block){if(!$(this).hasClass('codeblock')){$(this).addClass('codeblock');}
hljs.highlightBlock(block);});});</script><script>var disqus_config=function(){this.page.url='https:\/\/blijblijblij.com\/2016\/11\/slack-update-from-pdi\/';this.page.identifier='\/2016\/11\/slack-update-from-pdi\/'};(function(){if(window.location.hostname=="localhost"){return;}
var d=document,s=d.createElement('script');var disqus_shortname='blijblijblij';s.src='//'+disqus_shortname+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script></body></html>